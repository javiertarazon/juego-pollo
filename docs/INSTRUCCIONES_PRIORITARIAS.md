# üéØ INSTRUCCIONES PRIORITARIAS DE COMPORTAMIENTO
## Sistema de Predicci√≥n Avanzado de Posiciones Seguras

---

## üö® REGLAS FUNDAMENTALES INQUEBRANTABLES

### 1. üá™üá∏ IDIOMA EXCLUSIVO: ESPA√ëOL
**TODOS** los elementos del proyecto DEBEN estar en espa√±ol:
- ‚úÖ Comentarios en c√≥digo
- ‚úÖ Nombres de variables y funciones
- ‚úÖ Documentaci√≥n t√©cnica
- ‚úÖ Mensajes de error y logs
- ‚úÖ Interfaces de usuario
- ‚úÖ Reportes y an√°lisis
- ‚úÖ Comunicaci√≥n y respuestas

**PROHIBIDO**: Cualquier texto en ingl√©s excepto palabras t√©cnicas universales (API, HTTP, JSON, etc.)

### 2. üî¨ VALIDACI√ìN CIENT√çFICA OBLIGATORIA
**TODOS** los c√°lculos y algoritmos DEBEN incluir:
- ‚úÖ Base matem√°tica documentada
- ‚úÖ Validaci√≥n estad√≠stica rigurosa
- ‚úÖ Intervalos de confianza del 95%
- ‚úÖ Pruebas de significancia (p < 0.05)
- ‚úÖ Reproducibilidad garantizada

**PROHIBIDO**: Algoritmos sin validaci√≥n cient√≠fica o "cajas negras"

### 3. üéØ OBJETIVO INQUEBRANTABLE
**Precisi√≥n m√≠nima del 60%** en predicci√≥n de posiciones seguras:
- ‚úÖ Medici√≥n continua y documentada
- ‚úÖ Mejora progresiva con m√°s datos
- ‚úÖ Validaci√≥n cruzada obligatoria
- ‚úÖ Monitoreo en tiempo real

**PROHIBIDO**: Desplegar sistema con precisi√≥n < 60%

---

## üìÅ ESTRUCTURA ORGANIZACIONAL OBLIGATORIA

### Directorio Ra√≠z Reorganizado:
```
proyecto-prediccion-pollos/
‚îú‚îÄ‚îÄ üìä analisis/                    # An√°lisis de patrones y estad√≠sticas
‚îÇ   ‚îú‚îÄ‚îÄ patrones-mystake/           # An√°lisis espec√≠ficos de Mystake
‚îÇ   ‚îú‚îÄ‚îÄ estadisticas/               # An√°lisis estad√≠sticos rigurosos
‚îÇ   ‚îú‚îÄ‚îÄ reportes/                   # Reportes generados autom√°ticamente
‚îÇ   ‚îî‚îÄ‚îÄ validacion-cientifica/      # Validaciones estad√≠sticas
‚îÇ
‚îú‚îÄ‚îÄ üìà datos/                       # Gesti√≥n completa de datos
‚îÇ   ‚îú‚îÄ‚îÄ exportacion/                # Scripts de exportaci√≥n CSV/JSON
‚îÇ   ‚îú‚îÄ‚îÄ importacion/                # Scripts de importaci√≥n y limpieza
‚îÇ   ‚îú‚îÄ‚îÄ validacion/                 # Validaci√≥n de integridad de datos
‚îÇ   ‚îî‚îÄ‚îÄ transformacion/             # ETL y preprocesamiento
‚îÇ
‚îú‚îÄ‚îÄ ü§ñ ml/                          # Machine Learning y algoritmos
‚îÇ   ‚îú‚îÄ‚îÄ algoritmos/                 # Implementaciones de algoritmos
‚îÇ   ‚îú‚îÄ‚îÄ entrenamiento/              # Scripts de entrenamiento
‚îÇ   ‚îú‚îÄ‚îÄ validacion/                 # Validaci√≥n de modelos
‚îÇ   ‚îú‚îÄ‚îÄ prediccion/                 # Sistema de predicci√≥n
‚îÇ   ‚îî‚îÄ‚îÄ optimizacion/               # Optimizaci√≥n de hiperpar√°metros
‚îÇ
‚îú‚îÄ‚îÄ üìö documentacion/               # Documentaci√≥n t√©cnica completa
‚îÇ   ‚îú‚îÄ‚îÄ especificaciones/           # Especificaciones del sistema
‚îÇ   ‚îú‚îÄ‚îÄ manuales/                   # Manuales de usuario y t√©cnicos
‚îÇ   ‚îú‚îÄ‚îÄ investigacion/              # Papers y documentos cient√≠ficos
‚îÇ   ‚îî‚îÄ‚îÄ api/                        # Documentaci√≥n de APIs
‚îÇ
‚îú‚îÄ‚îÄ üõ†Ô∏è utilidades/                  # Herramientas auxiliares
‚îÇ   ‚îú‚îÄ‚îÄ monitoreo/                  # Monitoreo y alertas
‚îÇ   ‚îú‚îÄ‚îÄ testing/                    # Pruebas automatizadas
‚îÇ   ‚îú‚îÄ‚îÄ configuracion/              # Configuraciones del sistema
‚îÇ   ‚îî‚îÄ‚îÄ scripts/                    # Scripts de utilidad
‚îÇ
‚îî‚îÄ‚îÄ üåê src/                         # C√≥digo fuente principal (existente)
    ‚îú‚îÄ‚îÄ app/                        # Aplicaci√≥n Next.js
    ‚îú‚îÄ‚îÄ lib/                        # Librer√≠as compartidas
    ‚îî‚îÄ‚îÄ components/                 # Componentes UI
```

---

## üî¨ METODOLOG√çA CIENT√çFICA OBLIGATORIA

### Proceso de Validaci√≥n para CADA Algoritmo:

#### 1. Formulaci√≥n de Hip√≥tesis
```
H0 (Hip√≥tesis Nula): El algoritmo no mejora la precisi√≥n vs. azar
H1 (Hip√≥tesis Alternativa): El algoritmo mejora la precisi√≥n significativamente
Criterio de Rechazo: p < 0.05 con correcci√≥n de Bonferroni
```

#### 2. Dise√±o Experimental
- **Grupo Control**: Predicciones aleatorias
- **Grupo Experimental**: Algoritmo propuesto
- **Tama√±o de Muestra**: M√≠nimo 100 partidas por grupo
- **Aleatorizaci√≥n**: Asignaci√≥n aleatoria de partidas

#### 3. An√°lisis Estad√≠stico Obligatorio
```typescript
interface ValidacionCientifica {
  // M√©tricas primarias
  precision: number;              // ‚â• 0.60
  precision_positiva: number;     // ‚â• 0.65
  sensibilidad: number;           // ‚â• 0.55
  especificidad: number;          // ‚â• 0.65
  f1_score: number;              // ‚â• 0.60
  
  // Intervalos de confianza (95%)
  intervalo_confianza: {
    limite_inferior: number;
    limite_superior: number;
    nivel_confianza: 0.95;
  };
  
  // Pruebas estad√≠sticas
  pruebas: {
    chi_cuadrado: { estadistico: number; p_valor: number; };
    kolmogorov_smirnov: { estadistico: number; p_valor: number; };
    mann_whitney: { estadistico: number; p_valor: number; };
  };
  
  // Validaci√≥n cruzada
  validacion_cruzada: {
    k_folds: 10;
    precision_promedio: number;
    desviacion_estandar: number;
    intervalo_confianza_cv: [number, number];
  };
}
```

#### 4. Documentaci√≥n Cient√≠fica Obligatoria
Cada algoritmo DEBE incluir:
- **Fundamento Te√≥rico**: Base matem√°tica y cient√≠fica
- **Metodolog√≠a**: Descripci√≥n detallada del proceso
- **Resultados**: M√©tricas con intervalos de confianza
- **Limitaciones**: Restricciones y sesgos identificados
- **Reproducibilidad**: Instrucciones para replicar resultados

---

## üéØ ALGORITMOS PRIORITARIOS A IMPLEMENTAR

### 1. Ensemble de Modelos Cient√≠ficamente Validados

#### Modelo A: An√°lisis de Transici√≥n Markoviana
```typescript
// Implementaci√≥n obligatoria con validaci√≥n Chi-cuadrado
class ModeloTransicionMarkoviana {
  private matrizTransicion: number[][];
  private validacionCientifica: ValidacionCientifica;
  
  async entrenar(datos: PartidaReal[]): Promise<void> {
    // 1. Calcular matriz de transici√≥n 25x25
    // 2. Validar independencia con Chi-cuadrado
    // 3. Calcular intervalos de confianza
    // 4. Documentar resultados en espa√±ol
  }
  
  async predecir(estado: EstadoActual): Promise<PrediccionValidada> {
    // Predicci√≥n con intervalos de confianza
  }
}
```

#### Modelo B: Q-Learning Bayesiano
```typescript
// Implementaci√≥n con intervalos de credibilidad bayesianos
class QLearningBayesiano {
  private qValues: Map<string, DistribucionBeta>;
  private confianzaBayesiana: Map<string, IntervaloCredibilidad>;
  
  async actualizarCreencias(
    estado: string, 
    accion: string, 
    resultado: boolean
  ): Promise<void> {
    // Actualizaci√≥n bayesiana con distribuci√≥n Beta
  }
}
```

#### Modelo C: Series Temporales con Validaci√≥n
```typescript
// An√°lisis temporal con test de Ljung-Box
class ModeloSeriesTemporal {
  private autocorrelacion: number[];
  private tendencia: TendenciaLineal;
  private validacionLjungBox: PruebaEstadistica;
  
  async analizarPatronesTemporal(
    secuencia: number[]
  ): Promise<AnalisisTemporal> {
    // An√°lisis con validaci√≥n estad√≠stica rigurosa
  }
}
```

### 2. Sistema de Combinaci√≥n Inteligente
```typescript
class EnsembleInteligente {
  private modelos: ModeloValidado[];
  private pesos: PesosAdaptativos;
  private validacionEnsemble: ValidacionCientifica;
  
  async combinarPredicciones(
    predicciones: PrediccionValidada[]
  ): Promise<PrediccionFinal> {
    // Combinaci√≥n ponderada con validaci√≥n estad√≠stica
    // F√≥rmula: Œ£(peso_i √ó predicci√≥n_i √ó confianza_i) / Œ£(peso_i √ó confianza_i)
  }
}
```

---

## üìä M√âTRICAS DE √âXITO OBLIGATORIAS

### M√©tricas T√©cnicas (Medici√≥n Continua):
1. **Precisi√≥n Global**: ‚â• 60% (inquebrantable)
2. **Precisi√≥n Positiva**: ‚â• 65%
3. **Sensibilidad**: ‚â• 55%
4. **Especificidad**: ‚â• 65%
5. **F1-Score**: ‚â• 60%
6. **AUC-ROC**: ‚â• 0.70

### M√©tricas Cient√≠ficas (Validaci√≥n Rigurosa):
1. **Significancia Estad√≠stica**: p < 0.05 en todas las pruebas
2. **Intervalos de Confianza**: 95% documentados para todas las m√©tricas
3. **Reproducibilidad**: 100% de resultados replicables
4. **Validaci√≥n Cruzada**: K-fold (k=10) con IC del 95%

### M√©tricas Operacionales (Monitoreo 24/7):
1. **Tiempo de Respuesta**: ‚â§ 100ms
2. **Disponibilidad**: ‚â• 99.9%
3. **Throughput**: ‚â• 100 predicciones/segundo
4. **Precisi√≥n en Tiempo Real**: Monitoreo continuo

---

## üîÑ PROCESO DE MEJORA CONTINUA OBLIGATORIO

### Ciclo de Mejora Semanal:
```
Lunes: Recolecci√≥n autom√°tica de nuevas partidas reales
Martes: Validaci√≥n de calidad de datos y limpieza
Mi√©rcoles: Reentrenamiento de modelos con datos ampliados
Jueves: Validaci√≥n cient√≠fica de mejoras (significancia estad√≠stica)
Viernes: Despliegue autom√°tico si mejora es significativa (p < 0.05)
S√°bado-Domingo: Monitoreo intensivo post-despliegue
```

### Criterios de Despliegue Autom√°tico:
1. **Mejora Estad√≠sticamente Significativa**: p < 0.05
2. **Mejora Pr√°ctica M√≠nima**: +2% en precisi√≥n
3. **Validaci√≥n Cruzada Exitosa**: IC del 95% no se superpone
4. **Pruebas Automatizadas**: 100% pasando

### Sistema de Rollback Autom√°tico:
- **Trigger**: Precisi√≥n < 58% por m√°s de 1 hora
- **Acci√≥n**: Rollback autom√°tico a versi√≥n anterior
- **Notificaci√≥n**: Alerta inmediata al equipo t√©cnico
- **Investigaci√≥n**: An√°lisis autom√°tico de causa ra√≠z

---

## üö® ALERTAS Y MONITOREO CR√çTICO

### Alertas Cr√≠ticas (Acci√≥n Inmediata):
1. **Precisi√≥n < 58%**: Rollback autom√°tico + investigaci√≥n
2. **Deriva del Modelo > 5%**: Reentrenamiento inmediato
3. **Datos An√≥malos**: Validaci√≥n manual requerida
4. **Falla del Sistema**: Activaci√≥n de sistema de respaldo

### Alertas de Advertencia (Acci√≥n en 24h):
1. **Precisi√≥n 58-60%**: An√°lisis de tendencias
2. **Deriva del Modelo 3-5%**: Programar reentrenamiento
3. **Latencia > 200ms**: Optimizaci√≥n de rendimiento
4. **Disponibilidad < 99.5%**: Revisi√≥n de infraestructura

### Dashboard de Monitoreo (Actualizaci√≥n en Tiempo Real):
- **Precisi√≥n Actual vs. Objetivo**
- **Tendencia de 7 d√≠as**
- **Distribuci√≥n de confianza de predicciones**
- **M√©tricas de rendimiento del sistema**
- **Estado de validaci√≥n cient√≠fica**

---

## üìö DOCUMENTACI√ìN OBLIGATORIA

### Para Cada Algoritmo:
1. **Especificaci√≥n T√©cnica** (en espa√±ol)
2. **Fundamento Matem√°tico** (con f√≥rmulas)
3. **Validaci√≥n Estad√≠stica** (con resultados)
4. **Gu√≠a de Uso** (con ejemplos)
5. **Limitaciones Conocidas** (transparencia total)

### Para el Sistema Completo:
1. **Manual de Usuario** (interfaz y uso)
2. **Manual T√©cnico** (arquitectura y algoritmos)
3. **Gu√≠a de Configuraci√≥n** (instalaci√≥n y setup)
4. **Documentaci√≥n de API** (endpoints y par√°metros)
5. **An√°lisis Cient√≠fico** (metodolog√≠a y resultados)

---

## ‚úÖ CRITERIOS DE ACEPTACI√ìN FINAL

### T√©cnicos:
- ‚úÖ Precisi√≥n ‚â• 60% confirmada con IC del 95%
- ‚úÖ Sistema completo funcionando en producci√≥n
- ‚úÖ Monitoreo 24/7 operativo
- ‚úÖ Mejora continua autom√°tica funcionando

### Cient√≠ficos:
- ‚úÖ Todas las validaciones estad√≠sticas completadas
- ‚úÖ Significancia estad√≠stica p < 0.05 documentada
- ‚úÖ Reproducibilidad del 100% garantizada
- ‚úÖ Limitaciones y sesgos documentados

### Operacionales:
- ‚úÖ Documentaci√≥n 100% en espa√±ol
- ‚úÖ C√≥digo revisado y validado
- ‚úÖ Pruebas automatizadas con cobertura ‚â• 90%
- ‚úÖ Sistema de rollback probado y funcionando

---

## üéØ COMPROMISO DE CALIDAD

**Este proyecto se compromete a entregar un sistema de predicci√≥n que:**

1. **Supere el 60% de precisi√≥n** con validaci√≥n cient√≠fica rigurosa
2. **Mejore continuamente** con cada nueva partida real analizada
3. **Mantenga transparencia total** en metodolog√≠a y limitaciones
4. **Opere con confiabilidad** del 99.9% de disponibilidad
5. **Proporcione explicabilidad** de cada predicci√≥n realizada

**Todo esto documentado y comunicado exclusivamente en espa√±ol, con la m√°s alta calidad cient√≠fica y t√©cnica.**

---

*Documento creado: 4 de febrero de 2026*  
*Versi√≥n: 1.0*  
*Estado: Activo y Obligatorio*